{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoryAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/Payment/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/util/ProductItem.js","components/mainpages/details/Details.js","components/mainpages/products/Products.js","components/mainpages/util/Notfound.js","components/mainpages/Checkout/Checkout.js","components/mainpages/History/OrderHistory.js","components/mainpages/History/OrderDetails.js","components/mainpages/profile/Profile.js","components/mainpages/Category/index.js","components/mainpages/createProduct/index.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","getProducts","a","axios","get","res","data","useEffect","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","userName","setUserName","headers","Authorization","role","console","log","name","toast","error","response","msg","getUser","getHistory","addCart","product","warning","every","item","_id","quantity","patch","CategoryAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accessToken","setTimeout","state","productAPI","userAPI","categoryAPI","Provider","value","Header","useContext","logoutUser","clear","success","window","location","href","className","to","data-bs-toggle","data-bs-target","id","style","width","onClick","length","Login","email","password","user","setUser","onChangeInput","e","target","submitHandler","preventDefault","post","setItem","marginTop","onSubmit","type","placeholder","onChange","required","htmlFor","autoComplete","Register","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","size","color","shape","label","tagline","React","Component","Cart","setTotal","tax","setTax","dc","setDC","final","setFinal","reduce","prev","price","Math","round","getTotal","updateCart","paymentID","address","paid","map","key","category","confirm","forEach","index","splice","title","src","images","url","height","alt","ProductItem","product_id","description","checked","objectFit","Details","match","params","detailProduct","setDetailProduct","Fragment","content","sold","overflowX","Products","Notfound","Checkout","OrderHistory","Date","createdAt","toLocaleDateString","toLocaleTimeString","OrderDetails","orderDetails","setOrderDetails","data-bs-parent","recipient_name","line1","city","country_code","Profile","userData","setUserData","Category","setCategory","onEdit","setOnEdit","setId","createCategory","put","editCategory","cancelUpdate","deleteCategory","delete","res1","LoadingSpinner","initialState","CreateProduct","setProduct","setImages","Loading","setLoading","styleUpload","display","handleUpload","file","files","formData","FormData","append","handleDestroy","public_id","handleChangeInput","handleSubmit","push","cols","rows","Pages","path","exact","component","App","position","autoClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.479f24b2.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport  { useState,useEffect } from 'react'\r\n\r\nexport default function ProductsAPI() {\r\n    /* product state */\r\n    const [products, setProducts] = useState([]);\r\n    const [callback, setCallback] = useState(false);\r\n\r\n/* get products from api */\r\n    const getProducts = async () => {\r\n        const res = await axios.get('/api/products');\r\n        //  console.log('products ', res.data.products);\r\n        setProducts(res.data.products);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, []);\r\n\r\n    return {\r\n        products: [products, setProducts],\r\n        callback: [callback,setCallback]\r\n    }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function UserAPI(token) {\r\n    /* auth states */\r\n    const [isLogged, setIsLogged] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [cart, setCart] = useState([]);\r\n    const [history, setHistory] = useState([]);\r\n    const [userName, setUserName] = useState('');\r\n    const [callback, setCallback] = useState(false);\r\n\r\n/* function call */\r\n    useEffect(() => {\r\n        if(token)  {\r\n            const getUser = async () => {\r\n                try {\r\n                    /* get user auth token from api */\r\n                    const res = await axios.get('/user/infor', {\r\n                        headers: { Authorization: token }\r\n                    });\r\n\r\n                    setIsLogged(true);\r\n                    /* if admin user */\r\n                    res.data.role === 1 ? setIsAdmin(true): setIsAdmin(false)\r\n                    console.log( 'user api',res);\r\n                    setUserName(res.data.name);\r\n\r\n                    /* receive cart info from users api */\r\n                    setCart(res.data.cart);\r\n\r\n                } catch (error) {\r\n                    toast.error(error.response.data.msg);\r\n                }\r\n            }\r\n            getUser();\r\n        }\r\n\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if(token) {\r\n            const getHistory = async () => {\r\n               if(isAdmin) {\r\n                    const res = await axios.get('/api/payment', {\r\n                        headers: { Authorization: token }\r\n                    });\r\n                    console.log( 'history', res.data.history);\r\n                    setHistory(res.data);\r\n               } else {\r\n                    const res = await axios.get('/user/history', {\r\n                        headers: { Authorization: token }\r\n                    });\r\n                    console.log( 'history', res.data.history);\r\n                    setHistory(res.data.history);\r\n               }\r\n            }\r\n            getHistory();\r\n        }\r\n    }, [token, callback, isAdmin])\r\n\r\n    const addCart = async (product) => {\r\n        if(!isLogged) return toast.warning('Please login to continue buying.');\r\n        const check = cart.every(item => {\r\n            return item._id !== product._id\r\n        });\r\n\r\n        if(check) {\r\n            toast('Product added to cart');\r\n            setCart([...cart, { ...product, quantity: 1 }]);\r\n\r\n            /* store the cart into database */\r\n            await axios.patch('/user/addCart', { cart: [...cart, {...product, quantity: 1}] }, {\r\n                headers: { Authorization: token }\r\n            });\r\n\r\n        } else {\r\n            toast.warning('This product has been added to cart.');\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart,setCart],\r\n        addCart: addCart,\r\n        history: [history, setHistory],\r\n        userName: [userName,setUserName],\r\n        callback: [callback,setCallback]\r\n    }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\n\r\nexport default function CategoryAPI() {\r\n    const [categories, setCategories] = useState([]);\r\n    const [callback, setCallback] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const getCategories = async () => {\r\n            const res = await axios.get('/api/category')\r\n            // console.log('categories',res);\r\n            setCategories(res.data);\r\n        }\r\n\r\n        getCategories();\r\n    }, [callback]);\r\n\r\n    return {\r\n        categories: [categories, setCategories],\r\n        callback: [callback,setCallback]\r\n    }\r\n}\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport ProductsAPI from './api/ProductsAPI';\r\nimport UserAPI from './api/UserAPI';\r\nimport CategoryAPI from './api/CategoryAPI';\r\nimport axios from 'axios';\r\n\r\nexport const GlobalState = createContext();\r\n\r\nexport const DataProvider = ({ children }) => {\r\n\r\n    const [token, setToken] = useState(false);\r\n\r\n\r\n    useEffect(()=> {\r\n        if(localStorage.getItem('firstLogin')) {\r\n            const refreshToken = async () => {\r\n                const res = await axios.get('/user/refresh_token');\r\n                 console.log(res);\r\n                setToken(res.data.accessToken);\r\n        \r\n                setTimeout(() => {\r\n                    refreshToken()\r\n                }, 10 * 60 * 1000);\r\n            }\r\n    \r\n            refreshToken()\r\n        }\r\n       \r\n    }, []);\r\n\r\n    ProductsAPI();\r\n    const state = {\r\n        token: [token, setToken],\r\n        productAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoryAPI: CategoryAPI()\r\n    }\r\n\r\n    // console.log(state);\r\n\r\n    return (\r\n        <GlobalState.Provider value={state} >\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n} ","import React, { useContext } from 'react';\r\nimport { GlobalState } from '../../GlobalState';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nexport default function Header() {\r\n    const state = useContext(GlobalState);\r\n     //console.log('header', state);\r\n    const [isLogged,setIsLogged] = state.userAPI.isLogged;\r\n    const [isAdmin, setIsAdmin] = state.userAPI.isAdmin;\r\n    // if(state.userAPI.cart === undefined) return true;\r\n    const [cart] = state.userAPI.cart;\r\n    const [userName] = state.userAPI.userName;\r\n\r\n    const logoutUser = async () => {\r\n        await axios.get('/user/logout');\r\n        localStorage.clear();\r\n        setIsAdmin(false);\r\n        setIsLogged(false);\r\n        toast.success('Logout Success');\r\n        window.location.href = '/';\r\n    }\r\n\r\n\r\n    const adminRouter = () => {\r\n        return (\r\n            <>\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/create_product\">Create Product</Link></li>\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/category\">Categories</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () => {\r\n        return (\r\n            <>\r\n                <li className=\"nav-item dropdown\">\r\n                    <Link to=\"#\" className=\"nav-link dropdown-toggle\" data-bs-toggle=\"dropdown\">\r\n                        Account\r\n                    </Link>\r\n                    <ul className=\"dropdown-menu\">\r\n                        <li><Link to=\"/profile\" className=\"dropdown-item\">Profile</Link></li>\r\n                        <li><Link to=\"/history\" className=\"dropdown-item\">History</Link></li>\r\n                        <li className=\"dropdown-divider\"></li>\r\n                        <li><Link to=\"/\" className=\"dropdown-item\" onClick={logoutUser}>Logout</Link></li>\r\n                    </ul>\r\n                </li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top mb-4\">\r\n          <div className=\"container\">\r\n                <Link to=\"/\" className=\"navbar-brand\">\r\n                    { isAdmin ? 'E-Commerce-Admin': 'E-Commerce' } \r\n                </Link>\r\n                <button className=\"navbar-toggler\" data-bs-toggle=\"collapse\" data-bs-target=\"#menu\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div className=\"collapse navbar-collapse\" id=\"menu\">\r\n                  <div className=\"d-flex justify-content-end align-items-center\" style={{width:'100%'}}>\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/profile\" className=\"nav-link\"> Hello, {userName} </Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" to=\"/\">\r\n                                { isAdmin ? 'Products': 'Shop' }\r\n                            </Link></li>\r\n                       {\r\n                           isAdmin && adminRouter()\r\n                       }\r\n                       {\r\n                           isLogged ? loggedRouter() :  (<li className=\"nav-item\">\r\n                           <Link className=\"nav-link\" to=\"/login\">Login/Register</Link></li>)\r\n                       }\r\n                    </ul>\r\n                    \r\n                </div>\r\n                </div>\r\n                <ul className=\"navbar-nav cart-icon\">\r\n                {\r\n                    isAdmin ? '' : (\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" to=\"/cart\">\r\n                                <span className=\"badge bg-primary cart-badge\">\r\n                                   {cart.length}\r\n                                </span>\r\n                                <i className=\"fas fa-shopping-cart\"></i>\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                }\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n    )\r\n}  \r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Login() {\r\n    const [user, setUser] = useState({\r\n        email: '', password: ''\r\n    });  \r\n\r\n    const onChangeInput = (e) => {\r\n        const { name, value } = e.target;\r\n        setUser({...user, [name]:value });\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post('/user/login', {...user});\r\n            toast.success(\"Login Successful\");\r\n            localStorage.setItem(\"firstLogin\", true);\r\n            window.location.href = \"/\";\r\n\r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const resetInputs = (e) => {\r\n        setUser({email: '', password: ''});\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\" style={{marginTop: \"80px\"}}>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <div className=\"card mt-4 mb-4\">\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={submitHandler} >\r\n                         <fieldset>\r\n                            <legend className=\"text-center text-primary\">Login</legend>\r\n                            <div className=\"form-floating mb-3\">\r\n                                <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" placeholder=\"username\" value={user.email} onChange={onChangeInput} required />\r\n                                <label htmlFor=\"user\">Username <span className=\"text-danger\">* Email id</span></label>\r\n                            </div>\r\n\r\n                            <div className=\"form-floating mb-3\">\r\n                                <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\" placeholder=\"password\" value={user.password} onChange={onChangeInput} autoComplete=\"on\" required />\r\n                                <label htmlFor=\"pass\">Password <span className=\"text-danger\">* (min 6-digits)</span></label>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <input type=\"submit\" value=\"Login\" className=\"btn btn-outline-success\" />\r\n                                <input type=\"reset\" onClick={resetInputs} className=\"btn btn-outline-danger float-end\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                       <span>New User </span> <Link to=\"/register\">Register</Link> <span> Here</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Register() {\r\n    // const [location, setLocation] = useState({});\r\n    const [user, setUser] = useState({\r\n        name: '', email: '', password: ''\r\n    });  \r\n\r\n    // useEffect(() => {\r\n    //   const getLocation = async () => {\r\n    //     const response = await fetch('https://geolocation-db.com/json/');\r\n    //     const data = await response.json();\r\n    //     // this.setState({ ip: data.IPv4 })\r\n    //     setLocation({data});\r\n    //     // alert(this.state.ip)\r\n    //   }\r\n    //   getLocation();\r\n    // }, [])\r\n\r\n    const onChangeInput = (e) => {\r\n        const { name, value } = e.target;\r\n        setUser({...user, [name]:value });\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post('/user/register', {...user});\r\n            toast.success(\"User register success\");\r\n            localStorage.setItem(\"firstLogin\", true);\r\n            window.location.href = \"/\";\r\n\r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const resetInputs = (e) => {\r\n        setUser({name: '',email: '', password: ''});\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\" style={{marginTop: \"80px\"}}>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <div className=\"card mt-4 mb-4\">\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={submitHandler}>\r\n                         <fieldset>\r\n                            <legend className=\"text-center text-primary\">Register</legend>\r\n                            <div className=\"form-floating mb-3\">\r\n                                <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" placeholder=\"username\" value={user.name} onChange={onChangeInput} required />\r\n                                <label htmlFor=\"user\">Full Name <span className=\"text-danger\">*</span></label>\r\n                            </div>\r\n\r\n                            <div className=\"form-floating mb-3\">\r\n                                <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" placeholder=\"username\" value={user.email} onChange={onChangeInput} required />\r\n                                <label htmlFor=\"user\">Username <span className=\"text-danger\">* Email id</span> </label>\r\n                            </div>\r\n\r\n                            <div className=\"form-floating mb-3\">\r\n                                <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\" placeholder=\"password\" value={user.password} onChange={onChangeInput} required />\r\n                                <label htmlFor=\"pass\">Password <span className=\"text-danger\">* (min 6-digits)</span> </label>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <input type=\"submit\" value=\"Register\" className=\"btn btn-outline-success\" />\r\n                                <input type=\"button\" value=\"Reset\" onClick={resetInputs} className=\"btn btn-outline-danger float-end\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                        <span>Already register user </span> <Link to=\"/login\">Login</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\r\n            \t\t// You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n                    this.props.tranSuccess(payment);\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {  \r\n            sandbox:    'AVhGsCyawjatMwRl8luioJh8g3urJ5wAA3bM49u77TIDdHKhhWLCC_OMmoa3wlMjdHpGkGMCiAdRzein',\r\n            production: 'YOUR-PRODUCTION-APP-ID',\r\n        }\r\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\r\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\r\n        // For production app-ID:\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\r\n \r\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\r\n\r\n        let style = {\r\n            size: 'small',\r\n            color: 'blue',\r\n            shape: 'rect',\r\n            label: 'checkout',\r\n            tagline: false\r\n        };\r\n\r\n        return (\r\n            <PaypalExpressBtn \r\n                env={env} \r\n                client={client} \r\n                currency={currency} \r\n                total={total} \r\n                onError={onError} \r\n                onSuccess={onSuccess} \r\n                onCancel={onCancel}\r\n                style={style } />\r\n        );\r\n    }\r\n}","import React, { useState, useEffect, useContext } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport axios from 'axios'; \r\nimport PayPalButton from '../Payment/PaypalButton';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Cart() {\r\n    const state = useContext(GlobalState);\r\n    const [cart, setCart] = state.userAPI.cart;  \r\n    const [total, setTotal] = useState(0);\r\n    const [token] = state.token;\r\n    const [tax, setTax] = useState(0);\r\n    const [dc,setDC] = useState(0);\r\n    const [final,setFinal] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const getTotal = () => {\r\n            const total = cart.reduce((prev,item) => {\r\n                return prev + (item.price * item.quantity);\r\n            }, 0);\r\n\r\n            setTotal(total);\r\n            const dc = 50;\r\n            setDC(dc);\r\n            setTax(Math.round(total * (12.5/100)));\r\n        const final = total + (total * (12.5/100) + dc);\r\n            setFinal(Math.round(final));\r\n        }\r\n        getTotal();\r\n    }, [cart]);\r\n  \r\n    /* cart update logic */\r\n    const updateCart = async (cart) => {\r\n        await axios.patch(\"/user/addCart\", {cart}, {\r\n            headers: { Authorization: token }\r\n        });\r\n    }\r\n\r\n    /* product quantity increment */\r\n    const increment = (id) => {\r\n        cart.forEach(item => {\r\n            if(item._id === id) {\r\n                item.quantity += 1;\r\n            }\r\n        });\r\n        setCart([...cart]);\r\n        updateCart(cart);\r\n    }\r\n\r\n    /* product quantity decrement */\r\n    const decrement = (id) => {\r\n        cart.forEach(item => {\r\n            if(item._id === id) {\r\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1;\r\n            }\r\n        });\r\n        setCart([...cart]);\r\n        updateCart(cart);\r\n    }\r\n\r\n    /* remove product */\r\n    const removeProduct = (id) => {\r\n        if(window.confirm('Do you want to remove this product from cart?')){\r\n            cart.forEach((item,index) => {\r\n                if(item._id === id) {\r\n                    cart.splice(index,1);\r\n                }\r\n            });\r\n            setCart([...cart]);\r\n            updateCart(cart);\r\n        }\r\n            \r\n    }\r\n\r\n    /* payment transaction */\r\n    const tranSuccess  = async function (payment) {\r\n       // console.log('payment =', payment);\r\n        const { paymentID, address, paid } = payment;\r\n\r\n        await axios.post('/api/payment', {cart,paymentID,address,paid}, {\r\n            headers: { Authorization: token }\r\n        });\r\n \r\n        setCart([]);\r\n        updateCart([]);\r\n        toast.success(\"You have successfully placed an order.\");\r\n    }\r\n \r\n/* render ui if cart is empty */\r\n    if(cart.length === 0) {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <div className=\"jumbotron text-center\">\r\n                            <h3 className=\"display-3\">Cart is Empty</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    /* render ui if product is in cart */\r\n    return (\r\n        <div className=\"container\" style={{marginTop:\"80px\"}}>\r\n\r\n            <div className=\"row mb-2 mt-4\">\r\n                  <div className=\"col-md-8\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            {\r\n                                cart.map((product,key) => {\r\n                                    return (\r\n                                        <div key={key} className=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-230 position-relative\">\r\n                                            <div className=\"col p-4 d-flex flex-column position-static overflow-auto\">\r\n                                             <div className=\"d-flex align-items-center justify-content-between mb-2\">\r\n                                                    <strong className=\"d-inline-block mb-2 text-primary text-uppercase\">\r\n                                                        { product.category }\r\n                                                    </strong>\r\n                                                    <button className=\"btn btn-sm text-danger\" onClick={()=> removeProduct(product._id)} >\r\n                                                        <i className=\"bi bi-trash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                               <div className=\"d-flex align-items-center justify-content-between mb-2\">\r\n                                               <h4 className=\"mb-0 text-uppercase\"> { product.title } </h4>\r\n                                               <div className=\"d-flex align-items-center\">\r\n                                                    <button className=\"btn btn-sm btn-danger\" onClick={()=> decrement(product._id)} >\r\n                                                        <i className=\"bi bi-dash\"></i>\r\n                                                    </button>\r\n                                                        <strong className=\"p-2\"> {product.quantity} </strong>\r\n                                                    <button className=\"btn btn-sm btn-primary\" onClick={()=> increment(product._id)} >\r\n                                                        <i className=\"bi bi-plus\"></i>\r\n                                                    </button>\r\n                                               </div>\r\n                                               </div>\r\n                                                <div className=\"mb-2 mt-2 text-muted d-flex align-items-center justify-content-between\">\r\n                                                    <p><strong>price:</strong> &#8377; { product.price }</p>\r\n                                                    <p><strong>SubTotal:</strong> &#8377; { product.price * product.quantity }</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-auto d-none d-lg-block\">\r\n          \r\n                                                <img className=\"cover\" src={product.images.url} height=\"220\" width=\"200\" alt=\"product\"  />\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 ml-2 mb-2 mt-4\">\r\n                    <div className=\"card .d-none .d-md-block .d-lg-none\">\r\n                        <div className=\"card-header\">\r\n                            <h4 className=\"card-title\"> Cart Summary </h4>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <ul className=\"list-group\">\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>SubTotal</strong>\r\n                                    <span className=\"float-end\"> &#8377; {total}</span>\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Tax</strong>\r\n                                    <span className=\"float-end\"> &#8377; {tax} </span>\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Delivery Charges</strong>\r\n                                    <span className=\"float-end\"> &#8377; {dc} </span>\r\n                                </li>\r\n                                <hr />\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Total</strong>\r\n                                    <span className=\"float-end\"> &#8377; {final}  </span>\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                   {/*  <Link to=\"/checkout\" className=\"btn btn-success float-end\">\r\n                                    Proceed to Checkout \r\n                                    <i className=\"p-2 bi bi-arrow-right\"></i></Link>  */}\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                <PayPalButton total={final}\r\n                                tranSuccess={tranSuccess} />\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                    <Link to=\"/\" className=\"stretched-link\">\r\n                                        <i className=\"bi bi-arrow-left\"></i> Continue Shopping</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { GlobalState } from '../../../GlobalState'\r\n\r\nexport default function ProductItem({product}) {\r\n    const {_id,product_id,images, title, price, description, checked} = product;\r\n    const state = useContext(GlobalState);\r\n    const [isAdmin] = state.userAPI.isAdmin;\r\n    const addCart = state.userAPI.addCart;\r\n    \r\n    return (\r\n        <div className=\"card mb-4 mt-2\">\r\n            \r\n            {\r\n                isAdmin && (\r\n                        <input type=\"checkbox\" checked={checked} className=\"float-end check form-check-input\" />\r\n                        )\r\n            }\r\n                {\r\n                    isAdmin ? (\r\n                        <img src={images.url} alt=\"\" height=\"200\" style={{ objectFit:'cover' }} className=\"card-img-top img-rounded\"/>\r\n                    ) : (\r\n                        <Link className=\"text-dec-none\"  to={`/detail/${_id}`}>\r\n                            <img src={images.url} alt=\"\" height=\"200\" style={{ objectFit:'cover' }} className=\"card-img-top img-rounded\"/>\r\n                        </Link>\r\n                    )\r\n                }\r\n                    <div className=\"card-body\">\r\n                        <div className=\"card-content d-flex justify-content-between align-items-center\">\r\n                            <p className=\"card-title text-capitalize text-primary\"> { title} </p>\r\n                            <p className=\"text-white badge bg-success float-end\"> #{ product_id } </p>\r\n                        </div>\r\n                        <span className=\"text-danger float-end\">&#8377;  {price} </span>\r\n                        <details>\r\n                            <summary>Description</summary>\r\n                            <p><small className=\"card-text\"> {description} </small></p>\r\n                        </details>\r\n                    </div>\r\n\r\n            <div className=\"card-footer\">\r\n                {\r\n                    isAdmin ? (\r\n                        <>\r\n                        <Link className=\"btn btn-sm btn-outline-primary\" to={`/edit_product/${_id}`}> \r\n                        <i className=\"bi bi-pencil-square\"></i> </Link>\r\n                        <Link className=\"btn btn-sm btn-outline-danger float-end\" to=\"#!\"> \r\n                        <i className=\"bi bi-trash\"></i>\r\n                        </Link>\r\n                        </>\r\n                    ) :  (<Link className=\"btn btn-sm btn-outline-primary\" to=\"#!\" onClick={() => addCart(product)} > Add to Cart </Link>)\r\n                }\r\n            </div>\r\n        </div>\r\n       \r\n    )\r\n}\r\n","import React, { useState,useContext,useEffect } from 'react'\r\nimport {  Link } from 'react-router-dom'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport ProductItem from '../util/ProductItem';\r\n\r\nexport default function Details(props) {\r\n    const id = props.match.params.id;\r\n    // console.log('id', id);\r\n    const state = useContext(GlobalState);\r\n    let [products] = state.productAPI.products;\r\n    //  console.log('details', products);\r\n\r\n    const [detailProduct, setDetailProduct] = useState([]);\r\n    const addCart = state.userAPI.addCart;\r\n    \r\n    useEffect(() => {\r\n        if(id) {\r\n            products.forEach(product => {\r\n                if(product._id === id) setDetailProduct(product)\r\n            });\r\n        }\r\n    }, [id,products]);\r\n\r\n     //console.log(detailProduct);\r\n    if(detailProduct.length === 0) return null;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"container\" style={{marginTop:'80px'}}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                            <img src={detailProduct.images.url} alt={detailProduct.title} className=\"img-fluid img-rounded img-thumbnail p-3\"/>\r\n                    </div>\r\n                    <div className=\"col-md-6 mt-3\">\r\n                        <div className=\"card p-2\">\r\n                            <div className=\"card-body\">\r\n                            <div className=\"card-content d-flex justify-content-between align-items-center\">\r\n                                <h2 className=\"card-title text-uppercase text-primary\"> { detailProduct.title} </h2>\r\n                                <h4 className=\"text-white badge bg-success float-end\"> #{ detailProduct.product_id } </h4>\r\n                            </div>\r\n                            <h3 className=\"badge bg-danger\"> &#8377; { detailProduct.price } </h3>\r\n                             \r\n                            <div className=\"accordion accordion-flush\" id=\"details\">\r\n                                <div className=\"accordion-item\">\r\n                                    <h2 className=\"accordion-header\" id=\"content-1\">\r\n                                       <button className=\"accordion-button collapsed\" data-bs-toggle=\"collapse\" data-bs-target=\"#desc\">\r\n                                            Description\r\n                                       </button>\r\n                                    </h2>\r\n                                    <div id=\"desc\" className=\"accordion-collapse collapse\">\r\n                                        <p> {detailProduct.description} </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"accordion-item\">\r\n                                    <h2 className=\"accordion-header\" id=\"content-1\">\r\n                                        <button className=\"accordion-button collapsed\" data-bs-toggle=\"collapse\" data-bs-target=\"#content\">\r\n                                                Content\r\n                                        </button>\r\n                                    </h2>\r\n                                    <div id=\"content\" className=\"accordion-collapse collapse\">\r\n                                        <p> {detailProduct.content} </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <hr />\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <h5 className=\"mt-2\"> <strong className=\"text-info\">SOLD: </strong> \r\n                                     <span className=\"badge bg-secondary\">{detailProduct.sold}</span>\r\n                                    </h5>\r\n                                    <button onClick={() => addCart(detailProduct._id)} className=\"btn btn-primary float-end\">Add to Cart</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n             \r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row mt-3 mb-3\">\r\n                    <div className=\"col-md-12\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\" style={{ overflowX:'auto' }}>\r\n                                <h3 className=\"text-left text-primary\">Related Products</h3>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        products.map(product => {\r\n                                            return product.category === detailProduct.category ?\r\n                                                (\r\n                                                    <div className=\"col-md-4\">\r\n                                                        <ProductItem key={product._id} product={product} addCart={addCart}  />\r\n                                                    </div>\r\n                                                ) : null\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport ProductItem from '../util/ProductItem';\r\n\r\nexport default function Products() {\r\n\r\n    const state = useContext(GlobalState);\r\n    const [products] = state.productAPI.products;\r\n    //  console.log('products = ', products);\r\n    const [isAdmin] = state.userAPI.isAdmin;\r\n    const addCart = state.userAPI.addCart;\r\n\r\n    return (\r\n        <div className=\"container\" style={{marginTop:'80px'}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                {\r\n                                    products.map((product, key) => {\r\n                                        return (\r\n                                            <div className=\"col-md-3\" key={key}>\r\n                                                <ProductItem  product={product} isAdmin={isAdmin} addCart={addCart} />\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Notfound() {\r\n    return (\r\n        <div className=\"container\" style={{marginTop: \"80px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"jumbotron text-center bg-dark text-white\">\r\n                        <h3 className=\"display-1\">Page Not Found</h3>\r\n                        <h3 className=\"display-3 text-danger\">404 Error</h3>\r\n                        <Link to=\"/\" className=\"btn btn-outline-secondary\">Return Home</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Checkout() {\r\n    return (\r\n        <div className=\"container\" style={{marginTop:\"80px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12 text-center\">\r\n                    <h4 className=\"display-4\">Check out</h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function OrderHistory() {\r\n\tconst state = useContext(GlobalState);\r\n\tconst [history] = state.userAPI.history;\r\n\r\n\treturn (\r\n\t\t<div className=\"container\" style={{marginTop:'80px'}}>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12 text-center\">\r\n\t\t\t\t\t<h3 className=\"display-3\">OrderHistory</h3>\r\n\t\t\t\t\t<h4 className=\"text-success\"> You have { history.length } Orders. </h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t<div className=\"table table-responsive\">\r\n\t\t\t\t\t\t<table className=\"table table-bordered table-hover table-striped\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Payment ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Date of Purchased</th>\r\n\t\t\t\t\t\t\t\t\t<th>Created At</th>\r\n\t\t\t\t\t\t\t\t\t<th>Actions</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\thistory.map((item,key) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td> {item.paymentID } </td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td> { new Date(item.createdAt).toLocaleDateString()  } </td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td> { new Date(item.createdAt).toLocaleTimeString()  } </td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/history/${item._id}`} className=\"btn btn-sm btn-outline-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React, { useState,useContext,useEffect } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport { GlobalState } from '../../../GlobalState'\r\n\r\nexport default function OrderDetails(props) {\r\n    const state = useContext(GlobalState);\r\n    const [history] = state.userAPI.history;\r\n    const [orderDetails, setOrderDetails] = useState([]);\r\n\r\n    // const params = useParams();\r\n\r\n    useEffect(() => {\r\n        if(props.match.params.id) {\r\n            history.forEach((item) => {\r\n                if(item._id === props.match.params.id) setOrderDetails(item);\r\n            })\r\n        }\r\n       \r\n    }, [props.match.params.id, history]);\r\n\r\n    console.log('order details', orderDetails);\r\n\r\n    if(orderDetails.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"container\" style={{marginTop:'80px'}}>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12 text-center\">\r\n\t\t\t\t\t<h3 className=\"display-3\">OrderHistory</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"card mb-2 mt-2\">\r\n                        <div className=\"card-body\">\r\n                            <ul className=\"list-group\">\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Name</strong>\r\n                                    <span className=\"float-end\"> { orderDetails.name } </span>\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Email</strong>\r\n                                    <span className=\"float-end\"> {orderDetails.email} </span>\r\n                                </li>\r\n                                <li className=\"list-group-item\">\r\n                                    <strong>Payment ID</strong>\r\n                                    <small className=\"float-end\"> {orderDetails.paymentID} </small>\r\n                                </li>\r\n                            </ul>\r\n\r\n\r\n                            <div className=\"accordion mt-4\" id=\"myOrder\">\r\n                                <div className=\"accordion-item\">\r\n                                    <h3 className=\"accordion-header\" id=\"address\">\r\n                                        <button className=\"accordion-button\" data-bs-toggle=\"collapse\" data-bs-target=\"#add\">\r\n                                        Address</button>\r\n                                    </h3>\r\n\r\n                                    <div id=\"add\" className=\"accordion-collapse collapse\" data-bs-parent=\"#myOrder\">\r\n                                        <div className=\"accordion-body\">\r\n                                            <div className=\"card\">\r\n                                                <div className=\"card-body\">\r\n                                                    <ul className=\"list-group\">\r\n                                                        <li className=\"list-group-item\">\r\n                                                            <strong>Recipient Name</strong>\r\n                                                            <span className=\"float-end\"> {orderDetails.address.recipient_name} </span>\r\n                                                        </li>\r\n                                                        <li className=\"list-group-item\">\r\n                                                            <strong>Address Line 1</strong>\r\n                                                            <span className=\"float-end\">\r\n                                                                {orderDetails.address.line1}\r\n                                                            </span>\r\n                                                        </li>\r\n                                                        <li className=\"list-group-item\">\r\n                                                            <strong>City</strong>\r\n                                                            <span className=\"float-end\">\r\n                                                            {orderDetails.address.city}\r\n                                                        </span>\r\n                                                        </li>\r\n                                                        <li className=\"list-group-item\">\r\n                                                            <strong>State</strong>\r\n                                                            <span className=\"float-end\">\r\n                                                            {orderDetails.address.state}\r\n                                                        </span>\r\n                                                        </li>\r\n                                                        <li className=\"list-group-item\">\r\n                                                            <strong>Country Code</strong>\r\n                                                            <span className=\"float-end\">\r\n                                                            {orderDetails.address.country_code}\r\n                                                        </span>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"accordion-item\">\r\n                                    <h3 className=\"accordion-header\" id=\"cart\">\r\n                                        <button className=\"accordion-button collapsed\" data-bs-toggle=\"collapse\" data-bs-target=\"#cartDetails\">\r\n                                        Cart Details</button>\r\n                                    </h3>\r\n                                    <div id=\"cartDetails\" className=\"accordion-collapse collapse\" data-bs-parent=\"#myOrder\">\r\n                                       <div className=\"accordion-body\">\r\n                                       <div className=\"table table-responsive\">\r\n                                       <table className=\"table table-secondary table-striped table-hover\">\r\n                                           <thead>\r\n                                               <tr>\r\n                                                   <th>Image</th>\r\n                                                   <th>Item</th>\r\n                                                   <th>Price</th>\r\n                                                   <th>Quantity</th>\r\n                                               </tr>\r\n                                           </thead>\r\n\r\n                                           <tbody>\r\n                                           {\r\n                                               orderDetails.cart.map((item,key) => {\r\n                                                   return (\r\n                                                       <tr>\r\n                                                           <td>\r\n                                                               <img src={item.images.url} alt=\"\" className=\"img-fluid\" height={100} width={100} />\r\n                                                           </td>\r\n                                                           <td>\r\n                                                               {item.title}\r\n                                                           </td>\r\n                                                           <td>\r\n                                                               &#8377;{item.price}\r\n                                                           </td>\r\n                                                           <td>\r\n                                                               {item.quantity}\r\n                                                           </td>\r\n                                                       </tr>\r\n                                                   )\r\n                                               })\r\n                                           }\r\n                                           </tbody>\r\n                                       </table>\r\n                                   </div>\r\n                                       </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState,useEffect, useContext } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { GlobalState } from '../../../GlobalState';\r\n\r\n\r\nexport default function Profile(props) {\r\n    const state = useContext(GlobalState);\r\n    const [userData, setUserData] = useState('');\r\n    const [token] = state.token;\r\n\r\n    useEffect(() => {\r\n        \r\n        const getUser = async () => {\r\n            try {\r\n                /* get user auth token from api */\r\n                const res = await axios.get('/user/infor', {\r\n                    headers: { Authorization: token }\r\n                });\r\n\r\n                console.log('profile' ,res);\r\n                setUserData(res.data);\r\n\r\n            } catch (error) {\r\n                toast.error(error.response.data.msg);\r\n            }\r\n        }\r\n        getUser();\r\n\r\n        \r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop:'80px' }}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12 text-center\">\r\n                    <h3 className=\"display-3\">Manage Profile</h3>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"card bg-secondary\">\r\n                        <div className=\"card-body\">\r\n                            <h4 className=\"display-4 text-warning text-uppercase text-center\"> \r\n                            {userData.name}\r\n                            </h4>\r\n                            <h4 className=\"text-white text-center\">\r\n                                { userData.email }\r\n                            </h4>\r\n                            <h4 className=\"text-white text-center\">\r\n                                { userData.role === 0 ? 'User': 'Admin User' }\r\n                            </h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState,useContext } from 'react'\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport {GlobalState} from '../../../GlobalState';\r\n\r\nexport default function Category() {\r\n    const state = useContext(GlobalState);\r\n    const [categories, setCategories] = state.categoryAPI.categories; \r\n    const [category, setCategory] = useState('');\r\n    const [token] = state.token;\r\n    const [callback,setCallback] = state.categoryAPI.callback;\r\n    const [onEdit, setOnEdit] = useState(false);\r\n    const [id, setId] = useState('');\r\n\r\n    const createCategory = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n\r\n           if(onEdit) {\r\n                const res = await axios.put(`/api/category/${id}`, { name: category }, {\r\n                    headers: { Authorization: token }\r\n                });\r\n                \r\n            // console.log(res); \r\n            toast.success(res.data.msg);\r\n\r\n           } else {\r\n\r\n                const res = await axios.post('/api/category', { name: category }, {\r\n                    headers: { Authorization: token }\r\n                });\r\n                \r\n                // console.log(res); \r\n                toast.success(res.data.msg);\r\n           }\r\n           setOnEdit(false);\r\n           setCategory('');\r\n           setCallback(!callback);\r\n             \r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id,name) => {\r\n        setId(id);\r\n        setCategory(name);\r\n        setOnEdit(true);\r\n    }\r\n\r\n    const cancelUpdate = async () => {\r\n        setId('');\r\n        setCategory('');\r\n        setOnEdit(false);\r\n        setCallback(!callback);\r\n    }\r\n\r\n    const deleteCategory = async (id) => {\r\n        try {\r\n            const status = window.confirm(\"Are you sure to delete category?\");\r\n                if(status) {\r\n                    const res1 = await axios.delete(`/api/category/${id}`, {\r\n                        headers: { Authorization: token }\r\n                    })\r\n        \r\n                    toast.success(res1.data.msg);\r\n                } else {\r\n                    toast.error('sorry unable to delete');\r\n                }\r\n                setCategory('');\r\n                setCallback(!callback);\r\n\r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop:'80px' }}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12 text-center\">\r\n                    <h3 className=\"display-3\">Categories</h3>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={createCategory} >\r\n                                <fieldset>\r\n                                    <legend className=\"text-center\">Create/Edit Category</legend>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"category\">Category</label>\r\n                                       <div className=\"input-group\">\r\n                                            <input type=\"text\" name=\"category\" value={category} className=\"form-control\" onChange={e => setCategory(e.target.value)} required />\r\n                                            <button type=\"submit\" className={onEdit ? \"btn btn-primary\": \"btn btn-success\"}>\r\n                                                { onEdit ? 'Update' : 'Save' }\r\n                                            </button>\r\n                                            {\r\n                                                onEdit ? <button onClick={cancelUpdate} className=\"btn btn-warning\">Cancel</button> : ''\r\n                                            }\r\n                                       </div>\r\n                                    </div>\r\n                                </fieldset>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <h3 className=\"text-center\">Category List</h3>\r\n                    <ul className=\"list-group\">\r\n                        {\r\n                            categories.map((item,key) => {\r\n                                return (\r\n                                    <li className=\"list-group-item\" key={key} > {item.name}\r\n                                        <span className=\"btn-group float-end\">\r\n                                            <button onClick={() => editCategory(item._id, item.name)} className=\"btn btn-sm btn-info\">\r\n                                                <i className=\"bi bi-pencil-square\"></i>\r\n                                            </button>\r\n                                            <button onClick={() => deleteCategory(item._id)}  className=\"btn btn-sm btn-danger\">\r\n                                                <i className=\"bi bi-trash\"></i>\r\n                                            </button>\r\n                                        </span>\r\n                                    </li>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport './createProduct.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst LoadingSpinner = () => {\r\n    return (\r\n        <div className=\"spinner-border text-success\" style={{ width: \"3rem\", height: '3rem' }} role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\r\n    content: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\r\n    category: ''\r\n}\r\n\r\nexport default function CreateProduct(props) {\r\n    const state = useContext(GlobalState);\r\n    const [product, setProduct] = useState(initialState);\r\n    const [categories] = state.categoryAPI.categories;\r\n    const [images, setImages] = useState(false);\r\n    const [Loading, setLoading] = useState(false);\r\n    const [isAdmin] = state.userAPI.isAdmin;\r\n    const [token] = state.token;\r\n    const [callback,setCallback] = state.productAPI.callback;\r\n\r\n    console.log('createProduct', categories);\r\n\r\n    const styleUpload = {\r\n        display: images ? 'block': 'none'\r\n    }\r\n\r\n    const handleUpload = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n\r\n            if(!isAdmin) return toast.warning('You are not an admin');\r\n                const file = e.target.files[0];\r\n                // console.log('file upload', file);\r\n\r\n                if(!file) return toast.error(\"File doesn't exists\");\r\n\r\n                if(file.size > 1024 * 1024) return toast.error(\"File size must be less than 1MB\");\r\n\r\n                let formData = new FormData();\r\n                formData.append('file', file);\r\n\r\n                setLoading(true);\r\n                const res = await axios.post('/api/upload', formData, {\r\n                    headers: {\r\n                        'content-type': 'multipart/form-data',\r\n                        Authorization: token\r\n                    }\r\n                });\r\n\r\n                setLoading(false);\r\n                // console.log('upload response', res);\r\n                setImages(res.data);\r\n            \r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async (e) => {\r\n        try {\r\n\r\n            if(!isAdmin) return toast.error(\"You are not an Admin\");\r\n            setLoading(true);\r\n            await axios.post('/api/destroy', { public_id: images.public_id }, {\r\n                headers: { Authorization: token }\r\n            });\r\n            setImages(false);\r\n            setLoading(false);\r\n            \r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = (e) => {\r\n        const { name, value }= e.target;\r\n        setProduct({...product, [name]: value});\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n\r\n            if(!isAdmin) return toast.error(\"You are not an Admin\");\r\n            if(!images) return toast.warning(\"No Image Uploaded\");\r\n\r\n            const res = await axios.post('/api/products', {...product, images}, {\r\n                headers: { Authorization: token }\r\n            });\r\n\r\n            setImages(false);\r\n            setProduct(initialState);\r\n            toast.success(res.data);\r\n            setCallback(!callback);\r\n            props.history.push('/');\r\n            \r\n        } catch (error) {\r\n            toast.error(error.response.data.msg);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\" style={{marginTop:'80px'}}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 mt-5\">\r\n                       <div className=\"card upload\">\r\n                            <div className=\"card-body\">\r\n                                <input type=\"file\" name=\"file\" id=\"file_up\" className=\"form-control\" required onChange={handleUpload} />  \r\n                               \r\n                                {\r\n                                    Loading ? <div id=\"file_img\"><LoadingSpinner/></div> :\r\n                                        <div id=\"file_img\" style={styleUpload}>\r\n                                            <img src={images ? images.url : ''} alt=\"\" />\r\n                                            <span onClick={handleDestroy} className=\"btn btn-sm btn-danger\">\r\n                                                    <i className=\"bi bi-x\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                }\r\n                            </div>\r\n                       </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-header\">\r\n                                <h3 className=\"text-center\">Create Product</h3>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <form onSubmit={handleSubmit}>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"product_id\">Product Id </label>         \r\n                                        <input type=\"text\" name=\"product_id\" id=\"product_id\" className=\"form-control\" value={product._id} onChange={handleChangeInput}  required />                           \r\n                                    </div>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"title\">Product Title </label>         \r\n                                        <input type=\"text\" name=\"title\" id=\"title\" className=\"form-control\" onChange={handleChangeInput}  value={product.title} required />                           \r\n                                    </div>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"price\">Product Price </label>         \r\n                                        <input type=\"number\" name=\"price\" id=\"price\" className=\"form-control\" onChange={handleChangeInput}  value={product.price} required />                           \r\n                                    </div>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"description\">Product Description </label>         \r\n                                    <textarea cols=\"30\" rows=\"3\" name=\"description\" id=\"description\" className=\"form-control\" onChange={handleChangeInput}  value={product.description} required ></textarea>                           \r\n                                    </div>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"content\">Product Content </label>         \r\n                                        <textarea cols=\"30\" rows=\"3\" name=\"content\" id=\"content\" className=\"form-control\" onChange={handleChangeInput}  value={product.content} required></textarea>                           \r\n                                    </div>\r\n                                    <div className=\"form-group mt-2\">\r\n                                        <label htmlFor=\"categories\">Categories</label>\r\n                                        <select name=\"category\" value={product.category} className=\"form-control\" onChange={handleChangeInput}>\r\n                                             <optgroup label=\"Category List\">\r\n                                                    {\r\n                                                        categories.map((item,key) => {\r\n                                                           return <option key={key} value={item._id} > { item.name } </option>\r\n                                                        })\r\n                                                    }\r\n                                             </optgroup>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group mt-2 mb-4\">\r\n                                        <input type=\"submit\" value=\"Save\" className=\"btn btn-success\" />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Login from './auth/Login';\r\nimport Register from './auth/Register';\r\nimport Cart from './cart/Cart';\r\nimport Details from './details/Details';\r\nimport Products from './products/Products';\r\nimport Notfound from './util/Notfound';\r\n\r\nimport { GlobalState } from '../../GlobalState';\r\nimport Checkout from './Checkout/Checkout';\r\nimport OrderHistory from './History/OrderHistory';\r\nimport OrderDetails from './History/OrderDetails';\r\nimport Profile from './profile/Profile';\r\nimport Category from './Category';\r\nimport CreateProduct from './createProduct';\r\n\r\n\r\nexport default function Pages() {\r\n    const state = useContext(GlobalState);\r\n    const [isLogged] = state.userAPI.isLogged;\r\n    const [isAdmin] = state.userAPI.isAdmin;\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Products} />\r\n            <Route path=\"/detail/:id\" exact component={Details} />\r\n            <Route path=\"/login\" exact component={ isLogged ? Notfound : Login} />\r\n            <Route path=\"/register\" exact component={isLogged ? Notfound : Register} />\r\n            <Route path=\"/history\" exact component={isLogged ? OrderHistory : Notfound} />\r\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetails : Notfound} />\r\n            <Route path=\"/profile\" exact component={isLogged ? Profile : Notfound} />\r\n            <Route path=\"/category\" exact component={isAdmin ? Category : Notfound} />\r\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : Notfound} />\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n            <Route path=\"/checkout\" exact component={isLogged ? Checkout: Notfound} />\r\n            <Route component={Notfound} />\r\n        </Switch>\r\n    )\r\n}\r\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Header from './components/headers/Header';\nimport Pages from './components/mainpages/Pages';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nfunction App() {\n\n    return (\n      <Router>\n          <div className=\"App\">\n            <Header/>\n            <ToastContainer\n            position=\"top-right\"\n            autoClose={2000}\n            />\n            <Pages/>\n          </div>\n      </Router>\n    );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { DataProvider } from './GlobalState';\n\nReactDOM.render(\n    <DataProvider>\n        <App />\n    </DataProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}